syntax = "proto3";
package wishlist;

option go_package = "github.com/soumirel/wishlister/api/proto/gen/go/wishlist";

//
message Wishlist {
    string ID = 1;
    string UserID = 2;
    string Name = 3;
}

//
message ExternalIdentity {
    string ExternalID = 1;
    string IdentityProvider = 2;
}

message GetUserIdByExternalIdentityRequest {
    ExternalIdentity ExternalIdentity = 1;
}

message GetUserIdByExternalIdentityResponse {
    string UserID = 1;
}

message CreateUserFromExternalIdentityRequest {
    ExternalIdentity ExternalIdentity = 1;
}

message CreateUserFromExternalIdentityResponse {
    string UserID = 1;
}

message GetWishlistsRequest {
}

message GetWishlistsResponse {
    repeated Wishlist Wishlists = 1;
}

message CreateWishlistRequest {
    string Name = 1;
}

message CreateWishlistResponse {
    Wishlist Wishlist = 1;
}

// 
service WishlistService {
    //
    rpc GetUserIdByExternalIdentity(GetUserIdByExternalIdentityRequest) returns (GetUserIdByExternalIdentityResponse);
    
    //
    rpc CreateUserFromExternalIdentity(CreateUserFromExternalIdentityRequest) returns (CreateUserFromExternalIdentityResponse);

    //
    rpc GetWishlists(GetWishlistsRequest) returns (GetWishlistsResponse);

    //
    rpc CreateWishlist(CreateWishlistRequest) returns (CreateWishlistResponse);
}